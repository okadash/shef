shef_pkg_install(){
  while :; do
    case $1 in  
      -y|--yes) FORCE_OPT=-f; shift;; ## non-interactive install 
      -f|--force) FORCE_OPT=-f; shift;; ## non-interactive install (same to -y)
      --dev) DEV_MODE=1; shift;; ## developer mode for git cvs locating
      -v|--verbose) VERBOSE_OPT=-v; shift;; ## verbose install 
      -*) throw unknwon option $1;;
      *) break;;
    esac
  done
  ## local mode
  if test $# -eq 0 || test ! -z "${FORCE_OPT}${VERBOSE_OPT}"; then
    test $# -eq 0 || shift 
    shef_localpkg_install $@; return ;
  else
  ## network mode
    for i in $@ ; do 
      chk_repo_destination $i && {
        shef_fetchpkg $i && shef_localpkg_install
      }
    done
  fi
}
